apiVersion: v1
kind: Service
metadata:
  labels:
    name: {{ .Values.kubernetes.api.nombre_global }}
    tipomanager: Kubernetes
  name: {{ .Values.kubernetes.api.nombre_global }}-mongo-svc #nombre del servicio
  namespace: {{.Values.global.namespace}} #namespace donde sera instalado este servicio
  annotations:
    desc:  Unidad que nos permite acceder a los pods atravez de la red
spec:
  type: {{ .Values.kubernetes.db.service.type }}  #tipo de servicio que va a desplegar
  ports:
    - name: "http"
      port: {{ .Values.kubernetes.db.service.port }} #puerto de conexion del pod
      targetPort: {{ .Values.kubernetes.db.container.port}}
  selector:
    app: {{ .Values.kubernetes.api.nombre_global }}-pod #el nombre del servicio al que se le hara conexion
